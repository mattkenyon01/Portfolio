@page "/"
@using Portfolio.Pages
@inject IJSRuntime JS

<!-- Layout & App Bar (Section 1) -->
<style>
    /* Page & global typography */
    body {
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        background-color: #420f22;
        font-family: 'Segoe UI', sans-serif;
        color: white;
        text-align: center;
    }

    /* App bar */
    .app-bar {
        width: 100%;
        height: 60px;
        background-color: #2e0b18;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
        box-sizing: border-box;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1000;
    }

        .app-bar .logo {
            font-weight: 700;
            font-size: 1.25rem;
        }

        .app-bar nav {
            display: flex;
            gap: 20px;
        }

            .app-bar nav a {
                color: white;
                text-decoration: none;
                font-weight: 600;
                padding: 8px 12px;
                border-radius: 4px;
                transition: background-color 0.3s;
            }

                .app-bar nav a:hover {
                    background-color: #971d21;
                }

    /* Shared content elements used in hero sections */
    img.main-banner {
        width: 95%;
        max-width: 1200px;
        height: auto;
        margin: 80px 0 20px 0; /* space for fixed app bar */
        border-radius: 20px;
    }

    p.description {
        font-size: 1.2rem;
        font-weight: 400;
        max-width: 800px;
        width: 100%;
        margin: 12px auto 30px auto;
        line-height: 1.6;
        padding-inline: 20px; /* side padding */
        box-sizing: border-box;
    }

    h1 {
        font-size: 3rem;
        font-weight: 700;
        margin: 0 auto;
        max-width: 800px;
        width: 100%;
        padding-inline: 20px; /* keep the title consistent */
        box-sizing: border-box;
    }

    /* Divider between sections */
    hr.section-divider {
        border: none;
        height: 2px;
        width: 100%;
        max-width: 1000px;
        margin: 40px auto;
        background: #e7571d;
        border-radius: 2px;
        padding-inline: 20px; /* optional gutters */
        box-sizing: border-box;
    }
</style>

<div class="app-bar">
    <div class="logo">Matthew Kenyon</div>
    <nav>
        <a href="/games">Games</a>
        <a href="#apps">Applications</a>
        <a href="#about">Technologies</a>
    </nav>
</div>

<!-- Section 1: Hero -->
<img src="Images/Website Cover 3.png" alt="Banner Image" class="main-banner" />
<h1 id="about">Matthew Kenyon</h1>
<p class="description">
    I’m a passionate software developer dedicated to creating intuitive, impactful programs that assist people.

    <br /><br />

    I attended Newcastle University, where I was awarded the Degree of Masters of Computing with First Class Honours in
    Computer Science (Game Engineering).
</p>

<hr class="section-divider" />

<!-- Project Downloads (Section 2) -->
<style>
    .stats-section {
        max-width: 1000px;
        width: 100%;
        margin: 0 auto; /* center the container */
        padding-inline: 20px; /* gutters */
        display: flex;
        flex-direction: column;
        align-items: center;
    }

        .stats-section h2 {
            font-size: 2rem;
            margin-bottom: 30px;
            font-weight: 700;
            text-align: center;
        }

    .stats-content {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 50px;
        flex-wrap: wrap;
        text-align: center;
        width: 100%;
    }

    .chart-container {
        width: 180px;
        height: 180px;
        position: relative;
        flex-shrink: 0;
    }

    .chart-value {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 1rem;
        font-weight: 700;
        color: white;
    }

    /* Legend */
    .stats-text {
        font-size: 1.1rem;
        line-height: 1.6;
        min-width: 260px; /* desktop look */
        text-align: left; /* desktop look */
        margin: 0; /* will be centered by media rule when stacked */
    }

        .stats-text p {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 6px 0;
            justify-content: flex-start; /* desktop look */
        }

    .legend-square {
        width: 14px;
        height: 14px;
        border-radius: 3px;
        display: inline-block;
        flex-shrink: 0;
    }

    .legend-castle {
        background-color: #911f1f;
    }
    /* Castle Climbers */
    .legend-bucket {
        background-color: #41d5c3;
    }
    /* Bucket Connect */
    .legend-gww {
        background-color: #eda193;
    }
    /* Girls Who Walk */

    .stats-note {
        margin-top: 20px;
        max-width: 800px;
        width: 90%;
        line-height: 1.7;
        opacity: 0.95;
        text-align: center;
    }

    /* When the legend wraps under the chart (tablet / narrow widths), center it */
    @@media (max-width: 1000px) {
        .stats-text

    {
        min-width: 0;
        width: 100%;
        margin: 0 auto;
        text-align: center;
        padding-inline: 20px;
        box-sizing: border-box;
    }

    .stats-text p {
        justify-content: center; /* center each row (square + label) */
    }

    }

    /* Ensure desktop stays left-aligned when space allows */
    @@media (min-width: 1001px) {
        .stats-text

    {
        text-align: left;
    }

    .stats-text p {
        justify-content: flex-start;
    }

    }
</style>

<div class="stats-section" id="games">
    <h2>Published Projects</h2>
    <div class="stats-content">
        <div class="chart-container">
            <canvas id="firebaseChart"></canvas>
            <div class="chart-value" id="chartValue">@DownloadStats.TotalDownloads</div>
        </div>
        <div class="stats-text">
            <p><span class="legend-square legend-castle"></span><strong>Castle Climbers:</strong> @DownloadStats.CastleClimbersDownloads</p>
            <p><span class="legend-square legend-bucket"></span><strong>Bucket Connect:</strong> @DownloadStats.BucketConnectDownloads</p>
            <p><span class="legend-square legend-gww"></span><strong>Girls Who Walk:</strong> @DownloadStats.GirlsWhoWalkDownloads</p>
        </div>
    </div>
    <div class="stats-note">
        These download figures reflect current public builds across platforms. I iterate frequently, so numbers
        move as I ship updates and run experiments with onboarding and marketing.
    </div>
</div>

<hr class="section-divider" />

<!-- Secondary Hero (Section 3) -->
<style>
    .secondary-title {
        margin-top: 0;
    }
</style>

<!-- New Section 4: Title + Description + Image + Button -->
<style>
    .info-section {
        max-width: 1000px;
        width: 90%;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

        .info-section h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .info-section p {
            font-size: 1.1rem;
            max-width: 800px;
            line-height: 1.7;
            margin-bottom: 24px;
        }

        .info-section img {
            width: 100%;
            max-width: 700px;
            border-radius: 16px;
            margin-bottom: 18px;
        }

    .cta-button {
        display: inline-block;
        padding: 12px 18px;
        border-radius: 10px;
        font-weight: 700;
        text-decoration: none;
        background: #e7571d;
        color: #fff;
        transition: transform .08s ease, filter .2s ease, box-shadow .2s ease;
        box-shadow: 0 6px 18px rgba(231, 87, 29, 0.35);
    }

        .cta-button:hover {
            filter: brightness(1.08);
        }

        .cta-button:active {
            transform: translateY(1px) scale(0.99);
        }
</style>

<div class="info-section">
    <h2>App Production</h2>
    <p>
        I focus on crafting unique experiences through procedural generation, custom engines, and immersive
        gameplay systems. Each project reflects my passion for experimentation and pushing boundaries in
        design and technology.
    </p>
    <img src="Images/Website Cover 2.png" alt="Procedural world generation preview" />
    <a class="cta-button" href="#features">Explore My Approach</a>
</div>

<hr class="section-divider" />

<!-- New Section 5: Title + Description + 2 Columns -->
<style>
    .features-section {
        max-width: 1100px;
        width: 92%;
        margin: 0 auto;
        text-align: center;
    }

        .features-section h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .features-section .lead {
            font-size: 1.1rem;
            line-height: 1.7;
            max-width: 820px;
            margin: 0 auto 28px auto;
            opacity: 0.95;
        }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 18px;
    }
    @@media (max-width: 900px) {
        .features-grid

    {
        grid-template-columns: 1fr;
    }

    }

    .feature-card {
        background: rgba(255,255,255,0.06);
        border: 1px solid rgba(255,255,255,0.09);
        border-radius: 16px;
        padding: 18px;
        text-align: left;
        transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
        box-shadow: 0 10px 24px rgba(0,0,0,0.25);
    }

        .feature-card:hover {
            transform: translateY(-2px);
            border-color: rgba(231,87,29,0.45);
            box-shadow: 0 14px 30px rgba(231,87,29,0.18);
        }

    .feature-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
    }

    .feature-icon {
        width: 36px;
        height: 36px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 10px;
        background: rgba(231,87,29,0.18);
        flex-shrink: 0;
    }

    .feature-title {
        font-size: 1.25rem;
        font-weight: 700;
    }

    .feature-text {
        font-size: 0.98rem;
        line-height: 1.6;
        opacity: 0.95;
        margin-bottom: 12px;
    }

    .feature-card .btn {
        display: inline-block;
        padding: 10px 14px;
        border-radius: 10px;
        font-weight: 700;
        text-decoration: none;
        background: transparent;
        border: 2px solid #e7571d;
        color: #fff;
        transition: background .15s ease, color .15s ease;
    }

        .feature-card .btn:hover {
            background: #e7571d;
            color: #fff;
        }
</style>

<div id="features" class="features-section">
    <h2>Completed Projects</h2>
    <p class="lead">
        From algorithm design to polished UI, I blend strong engineering with player-first design.
        Here are three pillars that underpin my work.
    </p>

    <div class="features-grid">
        <!-- Card 1: Game Development -->
        <div class="feature-card">
            <div class="feature-header">
                <div class="feature-icon">
                    <!-- Game Controller Icon -->
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                        <rect x="3" y="8" width="18" height="8" rx="4" stroke="white" stroke-width="1.6" />
                        <circle cx="9" cy="12" r="0.8" fill="white" />
                        <line x1="7.5" y1="12" x2="10.5" y2="12" stroke="white" stroke-width="1.4" stroke-linecap="round" />
                        <line x1="9" y1="10.5" x2="9" y2="13.5" stroke="white" stroke-width="1.4" stroke-linecap="round" />
                        <circle cx="15" cy="11" r="0.8" fill="white" />
                        <circle cx="17" cy="13" r="0.8" fill="white" />
                    </svg>
                </div>
                <div class="feature-title">Game Development</div>
            </div>
            <div class="feature-text">
                Noise-driven terrain, cave networks, and rule-based placement pipelines that scale with performance in mind.
            </div>
            <a href="/Games" class="btn">View Games</a>
        </div>

        <!-- Card 2: Software Development -->
        <div class="feature-card">
            <div class="feature-header">
                <div class="feature-icon">
                    <!-- Software / Code Icon -->
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                        <path d="M16 18l4-6-4-6M8 6l-4 6 4 6M14 4l-4 16" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>
                <div class="feature-title">Software Development</div>
            </div>
            <div class="feature-text">
                Camera, input, and feedback loops tuned to feel crisp — particles, sound cues, and squash-and-stretch where it counts.
            </div>
            <a href="/Applications" class="btn">View Applications</a>
        </div>
    </div>
</div>

<hr class="section-divider" />

<!-- New Section: Research & Dissertations -->
<style>
    .research-section {
        max-width: 1100px;
        width: 92%;
        margin: 0 auto;
        text-align: center;
    }

        .research-section h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .research-section .lead {
            font-size: 1.1rem;
            line-height: 1.7;
            max-width: 820px;
            margin: 0 auto 28px auto;
            opacity: 0.95;
        }

    .research-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 18px;
    }

    @@media (max-width: 900px) {
        .research-grid {
            grid-template-columns: 1fr;
        }
    }

    .research-card {
        background: rgba(255,255,255,0.06);
        border: 1px solid rgba(255,255,255,0.09);
        border-radius: 16px;
        padding: 18px;
        text-align: left;
        transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
        box-shadow: 0 10px 24px rgba(0,0,0,0.25);
    }

        .research-card:hover {
            transform: translateY(-2px);
            border-color: rgba(231,87,29,0.45);
            box-shadow: 0 14px 30px rgba(231,87,29,0.18);
        }

    .research-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
    }

    .research-icon {
        width: 36px;
        height: 36px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 10px;
        background: rgba(231,87,29,0.18);
        flex-shrink: 0;
    }

    .research-title {
        font-size: 1.25rem;
        font-weight: 700;
    }

    .research-text {
        font-size: 0.98rem;
        line-height: 1.6;
        opacity: 0.95;
        margin-bottom: 12px;
    }

    .research-card .btn {
        display: inline-block;
        padding: 10px 14px;
        border-radius: 10px;
        font-weight: 700;
        text-decoration: none;
        background: transparent;
        border: 2px solid #e7571d;
        color: #fff;
        transition: background .15s ease, color .15s ease;
    }

        .research-card .btn:hover {
            background: #e7571d;
            color: #fff;
        }
</style>

<div class="research-section">
    <h2>Publications</h2>
    <p class="lead">
        My academic work focuses on procedural generation, accessibility in game design, and rehabilitation technology.
        Download selected papers and dissertations below.
    </p>

    <div class="research-grid">
        <!-- Dissertation 1 -->
        <div class="research-card">
            <div class="research-header">
                <div class="research-icon">
                    <!-- Document Icon -->
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                        <path d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z" stroke="white" stroke-width="1.6" />
                    </svg>
                </div>
                <div class="research-title">
                    Procedural Generation of 2D Terrain to Create a
                    Video Game World
                </div>
            </div>

            <a href="Files/Procedural_Generation_Dissertation.pdf" download class="btn">Download PDF</a>
        </div>

        <!-- Dissertation 2 (Example placeholder, remove if not needed) -->
        <div class="research-card">
            <div class="research-header">
                <div class="research-icon">
                    <!-- Document Icon -->
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                        <path d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z" stroke="white" stroke-width="1.6" />
                    </svg>
                </div>
                <div class="research-title">
                    Game for Rehabilitation of Hand
                    Movements Post Stroke

                </div>
            </div>

            <a href="Files/Stroke_Rehabilitation_Game_Dissertation.pdf" download class="btn">
                
                Download PDF
                
            </a>
        </div>

    </div>
</div>

<hr class="section-divider" />
<!-- Footer -->
<style>
    footer {
        width: 100%;
        padding: 20px;
        text-align: center;
        color: #ddd;
        font-size: 0.95rem;
        margin-top: 40px;
    }

        footer a {
            color: #e7571d;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

            footer a:hover {
                color: #fff;
            }

    .footer-links {
        margin-top: 8px;
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
    }
</style>

<footer>
    <div>© @DateTime.Now.Year Matthew Kenyon — All Rights Reserved</div>
    <div class="footer-links">
        <a href="mailto:matthew.kenyon@example.com">Email</a>
        <a href="https://github.com/mattkenyon01" target="_blank">GitHub</a>
        <a href="https://www.linkedin.com/in/matthew-kenyon" target="_blank">LinkedIn</a>
    </div>
</footer>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync(
                "renderChart",
                DownloadStats.CastleClimbersDownloads,
                DownloadStats.BucketConnectDownloads,
                DownloadStats.GirlsWhoWalkDownloads
            );
        }
    }
}
